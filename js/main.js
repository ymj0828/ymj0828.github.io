const con2data = {
	'스킨케어':{
    사진:['1-1','1-2','1-3','1-4','1-5','1-6','1-7','1-8','1-9','1-10','1-11','1-12'],
		상품명:['★02/23 순차출고★[당근패드]캐롯 카로틴 카밍 워터 패드 (250g, 60매)','[미나리패드]판토테닉 워터파슬리 클리어 패드 (250g, 60매)','로열허니 프로폴리스 인리치 에센스 (50ml)','[미나리에센스]여드름적합, 판토테닉 워터 파슬리 사일런스 에센스 (50ml)','로열허니 프로폴리스 인리치 멀티 밤(9g)','[당근크림] 캐롯 카로틴 릴리프 크림 (70ml)','[미나리패드 리필]판토테닉 워터파슬리 클리어 패드 리필(30매)','[미나리 토너]여드름적합, 판토테닉 워터 파슬리 토너 (300ml)','로열허니 프로폴리스 인리치 에멀전 (160ml)','[단독SET+증정] 골드 캐비어 이엑스 토너+크림+아이세럼','로열허니 프로폴리스 인리치 크림 미스트(120ml)','흑석류 에너지 세럼 (52ml)'],
    기존가:['₩ 26,000','₩ 26,000','₩ 32,000','₩ 28,000','₩ 22,000','₩ 32,000','₩ 13,000','₩ 24,000','₩ 26,000','₩ 99,000','₩ 22,000','₩ 32,000'],
		판매가:['₩ 16,900','₩ 16,900','₩ 20,800','₩ 18,200','₩ 14,300','₩ 20,800','₩ 8,450','₩ 14,400','₩ 15,600','₩ 74,250','₩ 13,200','₩ 19,200'],
		평점:['5','4.9','5','4.9','4.9','4.9','5','4.9','5','5','4.9','4.9'],
		리뷰수:['점 (9,996)','점 (778)','점 (18,677)','점 (1,266)','점 (72)','점 (1,543)','점 (45)','점 (383)','점 (334)','점 (341)','점 (111)','점 (779)']
	},
	'마스크':{
    사진:['2-1','2-2','2-3','2-4','2-5','2-6','2-7','2-8','2-9','2-10','2-11','2-12'],
    상품명:['[긴급진정] 판토테닉 워터 파슬리 마스크(미나리 마스크)(24ml)','[꿀광보습] 로열허니 프로폴리스 인리치 마스크(30ml)','[수분진정] 캐롯 카로틴 마스크(당근 마스크)(27ml)','[수분생기] 수비드 마스크시트(브로콜리) (18g)','이지 드레싱 마스크 시트, 파슬리 워터 (28g)','이지 드레싱 마스크 시트, 코코넛 젤리 (37g)','레몬 딜 버터 푸드마스크 120g','블랙슈가 퍼펙트 에센셜 스크럽 2X (210g)','라이스 데일리 브라이트닝 마스크 워시오프(210g)','블랙슈가 마스크 워시오프 (100g)','라이스 마스크 워시오프 (100g)','에그 화이트 포어 마스크 (125g)'],
		기존가:['₩ 3,000','₩ 3,000','₩ 3,000','','','','₩ 15,000','₩ 19,000','₩ 19,000','₩ 10,000','₩ 10,000','₩ 10,000'],
    판매가:['₩ 2,100','₩ 2,100','₩ 1,950','₩ 1,100','₩ 3,000','₩ 3,000','₩ 9,750','₩ 12,350','₩ 12,350','₩ 7,000','₩ 7,000','₩ 7,000'],
		평점:['4.9','5','5','4.9','4.7','4.9','4.9','4.9','4.8','4.9','4.8','4.9'],
		리뷰수:['점 (51)','점 (51)','점 (107)','점 (235)','점 (23)','점 (11)','점 (51)','점 (855)','점 (209)','점 (1,150)','점 (144)','점 (145)']
	},
	'선':{
    사진:['3-1','3-2','3-3','3-4'],
		상품명:['[비건/혼합자차]NEW 베리 생기 선크림 50ml SPF50+ PA++++','토마토 톤 업 선크림 (40ml)','[비건/유기자차]NEW 베리 수분 선크림 50ml SPF50+ PA++++','[비건/무기자차]NEW 베리 진정 선크림 50ml SPF50+ PA++++'],
		기존가:['₩ 24,000','₩ 10,000','₩ 24,000','₩ 24,000'],
		판매가:['₩ 15,600','₩ 6,500','₩ 15,600','₩ 15,600'],
		평점:['5','4.9','4.9','5'],
		리뷰수:['점 (151)','점 (191)','점 (68)','점 (99)']
	},
	'클렌징':{
		사진:['4-1','4-2','4-3','4-4','4-5','4-6','4-7','4-8','4-9','4-10','4-11','4-12'],
		상품명:['에그 화이트 퍼펙트 포어 클렌징 폼 (150ml)','블랙슈가 퍼펙트 클렌징 오일 (200ml)','[대용량] 가든빈 젠틀 프레쉬 폼 클렌저 (200ml)','라이스 데일리 브라이트닝 클렌징 티슈 (80매)','블랙슈가 퍼펙트 스크럽폼(180g)','가든빈 젠틀 밤 클렌저 (100ml)','라이스 데일리 브라이트닝 클렌징폼 (150ml)','밀크 쉐이크 포인트 메이크업 리무버 (160ml)','블랙슈가 퍼펙트 버블폼 (200ml)','가든빈 젠틀 버블 폼 클렌저  (200ml)','라이스 데일리 브라이트닝 클렌징 워터 (300ml)','블랙슈가 퍼펙트 엔자임 파우더 워시 (1.2g *30개)'],
		기존가:['₩ 10,000','₩ 19,000','₩ 13,000','₩ 10,000','₩ 13,000','₩ 22,000','₩ 9,000','₩ 10,000','₩ 13,000','₩ 19,000','₩ 12,000','₩ 24,000'],
		판매가:['₩ 6,500','₩ 12,350','₩ 7,800','₩ 6,500','₩ 8,450','₩ 13,200','₩ 5,850','₩ 6,500','₩ 8,450','₩ 11,400','₩ 7,800','₩ 15,600'],
		평점:['4.9','4.9','4.9','4.9','4.9','4.8','4.9','4.9','4.9','4.8','4.9','4.9'],
		리뷰수:['점 (221)','점 (366)','점 (40)','점 (57)','점 (308)','점 (40)','점 (160)','점 (349)','점 (153)','점 (78)','점 (100)','점 (200)']
	},
	'바디':{
		사진:['5-1','5-2','5-3','5-4','5-5','5-6','5-7','5-8','5-9','5-10','5-11','5-12'],
		상품명:['[Renewal] 시어버터 퍼퓸드 핸드크림','아보카도 스틱 립밤 1호 리치 (3.4g)','NEW 레몬 버베나 바디 로션 (450ml)','NEW 레몬 버베나 바디 워시 (450ml)','NEW 인텐시브 시어버터 크림 워시 (450ml)','NEW 인텐시브 시어버터 크림 로션 (450ml)','아보카도&올리브 립밤 (12g)','아보카도&슈가 립 스크럽 (14g)','허니 리치 바디 에센스 (450ml)','NEW 허니 리치 바디 워시 (450ml)','NEW 포도씨 오일 바디 워시 (450ml)','NEW 포도씨 오일 바디 로션 (450ml)'],
		기존가:['','₩ 6,000','₩ 16,000','₩ 16,000','₩ 16,000','₩ 16,000','₩ 7,000','₩ 8,000','₩ 16,000','₩ 16,000','₩ 16,000','₩ 16,000'],
		판매가:['₩ 5,000','₩ 4,200','₩ 10,400','₩ 10,400','₩ 10,400','₩ 10,400','₩ 4,900','₩ 5,600','₩ 10,400','₩ 10,400','₩ 10,400','₩ 10,400'],
		평점:['4.9','4.9','4.9','4.8','4.9','4.9','4.9','4.9','4.8','5','4.9','4.9'],
		리뷰수:['점 (287)','점 (187)','점 (201)','점 (85)','점 (35)','점 (103)','점 (301)','점 (41)','점 (118)','점 (60)','점 (33)','점 (127)']
	},
	'헤어':{
		사진:['6-1','6-2','6-3'],
		상품명:['아르간 오일 실크 플러스 헤어 에센스 (100ml)','아르간 오일 실크 플러스 헤어 마스크팩 (200g)','아르간 오일 리페어 플러스 히트 세럼 인 오일 (100ml)'],
		기존가:['₩ 12,000','₩ 10,000','₩ 13,000'],
		판매가:['₩ 9,600','₩ 6,500','₩ 8,450'],
		평점:['4.9','4.9','4.8'],
		리뷰수:['점 (75)','점 (56)','점 (96)']
	},
	'남성':{
		사진:['7-1','7-2'],
		상품명:['블랙슈가 퍼펙트 토너 2X 포 맨 (180ml)','블랙슈가 퍼펙트 에멀전 2X 포 맨 (150ml)'],
		기존가:['₩ 20,000','₩ 20,000'],
		판매가:['₩ 13,000','₩ 13,000'],
		평점:['4.9','4.9'],
		리뷰수:['점 (81)','점 (114)']
	},
	'베이스 메이크업':{
		사진:['8-1','8-2','8-3','8-4','8-5','8-6','8-7','8-8'],
		상품명:['피치뽀송 멀티 피니시 파우더(대용량),15g','피치 뽀송 멀티 피니시 파우더(소용량)(5g)','로열허니 프로폴리스 에센스 프라이머 (30g)','포레스트 다이닝 베어 파운데이션 1호 내추럴 베이지 (35g)','포레스트 다이닝 베어 파운데이션 2호 샌드 베이지 (35g)','청포도 프레시 업 베이스 (30ml)','소다 레이어 쿠션 1호 라이트 베이지 SPF50+ PA++++  (15g)','소다 레이어 쿠션 2호 샌드 베이지 SPF50+ PA++++ (15g)'],
		기존가:['₩ 13,000','₩ 6,500','₩ 18,000','₩ 25,000','₩ 25,000','₩ 9,000','₩ 28,000','₩ 28,000'],
		판매가:['₩ 9,100','₩ 4,550','₩ 10,800','₩ 15,000','₩ 15,000','₩ 6,300','₩ 16,800','₩ 16,800'],
		평점:['4.9','4.9','4.9','4.7','4.9','4.9','4.7','4.9'],
		리뷰수:['점 (176)','점 (386)','점 (93)','점 (117)','점 (52)','점 (47)','점 (36)','점 (7)']
	},
	'컬러 메이크업':{
		사진:['9-1','9-2','9-3','9-4','9-5','9-6','9-7','9-8'],
		상품명:['토마토 젤리 틴트 립 (4.5g)','★브러쉬증정★넛츠 시리얼 아이 팔레트 (4.5g)','초코 아이브로우 슬림 펜슬 (0.13g)','포레스트 다이닝 베어 워터 틴트 03 로즈 우드 (4g)','포레스트 다이닝 베어 마스카라 01 블랙 (6g)','★웨지퍼프 4EA 증정★ 버터리 치크 케이크 트윈 3,4호 (9.5g)','초코 아이브로우 파우더케익 (1.3g*2)','토마토 젤리 틴트 립 (4.5g)'],
		기존가:['₩ 5,500','₩ 30,000','₩ 8,000','₩ 14,000','₩ 15,000','₩ 15,000','','₩ 5,500'],
		판매가:['₩ 4,400','₩ 18,000','₩ 5,600','₩ 8,400','₩ 9,000','₩ 9,750','₩ 6,000','₩ 4,400'],
		평점:['4.8','4.9','4.9','4.6','4.8','4.8','4.9','4.8'],
		리뷰수:['점 (120)','점 (254)','점 (148)','점 (63)','점 (84)','점 (68)','점 (384)','점 (120)']
	},
	'미용 부자재':{
		사진:['10-1','10-2','10-3','10-4','10-5','10-6'],
		상품명:['웨지퍼프 대용량 (12ea)','[휴대용] 패드 케이스','블랙슈가 퍼펙트 첫세럼 전용 100% 순면 클리어 패드 (60매)','소프트 아이래쉬 컬(뷰러+리필패킹2개)','화이트 엠보화장솜','웨지퍼프 대용량 (12ea)'],
		기존가:['','','','','',''],
		판매가:['₩ 4,500','₩ 5,000','₩ 4,000','₩ 4,000','₩ 2,500','₩ 4,500'],
		평점:['4.9','4.9','5','4.8','4.8','4.9'],
		리뷰수:['점 (235)','점 (50)','점 (74)','점 (100)','점 (139)','점 (235)']
	}
};


$(() => {
	
	const gnb = document.querySelector('.gnb')
	const gnb_2depth = document.querySelectorAll('.gnb_2depth')
	const gnb_first_li = document.querySelectorAll('.gnb_first>li')
	const not_gnb_first = document.querySelectorAll('.gnb_2depth:not(.gnb_first)')
	const smenu_wrap = document.querySelector('.smenu_wrap')
	let window_width


	gnb_2depth.forEach(function(ele){
	
		gnb.addEventListener('mouseenter', function(){
			smenu_wrap.style.display='block'
			ele.style.display='block'
		})
		gnb.addEventListener('mouseleave', function(){
			smenu_wrap.style.display='none'
			ele.style.display='none'
		})
		smenu_wrap.addEventListener('mouseenter', function(){
			smenu_wrap.style.display='block'
			ele.style.display='block'
		})
		smenu_wrap.addEventListener('mouseleave', function(){
			smenu_wrap.style.display='none'
			ele.style.display='none'
		})

	})
		

	$(window).on('load resize', function() { 		
		window_width = window.innerWidth
	})
	

	gnb_first_li.forEach(function(gnb_first_li_ele){
		
		gnb_first_li_ele.addEventListener('mouseenter', function(){

			if(this.contains(this.children[1])){
				this.classList.add('on')
				this.children[1].style.width = window_width - this.children[1].getBoundingClientRect().left - 37 + 'px'
				
				if(this == gnb_first_li[3]){
					this.children[1].style.height = 468 + 'px'
					smenu_wrap.style.height = 482 + 'px'
				}
				
				not_gnb_first.forEach(function(not_gnb_first_ele){
					not_gnb_first_ele.style.display = 'none'
				})
			}
		})
		
		gnb_first_li_ele.addEventListener('mouseleave', function(){

			if(this.contains(this.children[1])){
				this.classList.remove('on')
				smenu_wrap.style.height = 260 + 'px'

				not_gnb_first.forEach(function(not_gnb_first_ele){
					not_gnb_first_ele.style.display = 'block'
				})
			}
		})
	})


	$('.main_slide').slick({
		infinite:true,
		slidesToShow:1,
		slidesToScroll:1,
		dots:true,
		autoplay:true,
		autoplaySpeed:4000,
		pauseOnHover:true
	})
	$('.main_slide_mobile').slick({
		infinite:true,
		slidesToShow:1,
		slidesToScroll:1,
		dots:true,
		autoplay:true,
		autoplaySpeed:4000,
		pauseOnHover:true
	})
	$('.recom_slide').slick({
		infinite:true,
		slidesToShow:2,
		slidesToScroll:1,
		dots:true,
		responsive:[
			{
				breakpoint: 721,
				settings:{
					slidesToShow:1
				}
			}
		]
	})
	$('.populer_slide').slick({
		infinite:true,
		slidesToShow:4,
		slidesToScroll:4,
		dots:true,
		responsive:[
			{
				breakpoint: 721,
				settings:{
					slidesToShow:2,
					slidesToScroll:2
				}
			}
		]
	})
	$('.cat_slide').slick({
		infinite:true,
		slidesToShow:4,
		slidesToScroll:4,
		dots:true,
		draggable:true,
		responsive:[
			{
				breakpoint: 721,
				settings:{
					slidesToShow:2,
					slidesToScroll:2
				}
			}
		]
	})
	$('.review_slide').slick({
		infinite:true,
		slidesToShow:1,
		slidesToScroll:1,
		dots:true,
		autoplay:true,
		autoplaySpeed:4000,
		pauseOnHover:true
	})
	$('.review_slide_mobile').slick({
		infinite:true,
		slidesToShow:1,
		slidesToScroll:1,
		dots:true,
		autoplay:true,
		autoplaySpeed:4000,
		pauseOnHover:true
	})
	

	const populer_slide = document.querySelector('.populer_slide')
	const tape = document.createElement('div')

	populer_slide.appendChild(tape)
	tape.classList.add('tape')
	
	$(window).resize(() => {

		populer_slide.appendChild(tape)
		tape.classList.add('tape')

	});
	

	$('.cat_slide').mousedown((e)=>{
		e.preventDefault()
	})
	
	const cat_item = $('.cat_item li')
	
	$(cat_item[0]).addClass('on')
	cat_item[0].children[0].src = `./images/content4_cat_1_act.png`
	
	fn('스킨케어')

  cat_item.each((num, cat_item_click)=>{
		cat_item_click.addEventListener('click', function(){

			if(cat_item_click.classList.contains('on')) return;
			
			cat_item.each((num,cat_item_el)=>{
				$(cat_item_el).removeClass('on');
				$(cat_item_click).addClass('on');

				if($(cat_item_el).hasClass('on')){
					cat_item_el.children[0].src = `./images/content4_cat_${num+1}_act.png`
				}else{
					cat_item_el.children[0].src = `./images/content4_cat_${num+1}.png`
				}
			});

			$('.cat_slide').slick('slickRemove', null, null, true); 
			
      const innertext = cat_item_click.children[1].innerText

			fn(innertext)
			
			
			// 	$('.cat_slide').slick({
				// 		infinite:true,
				// 		slidesToShow:4,
				// 		slidesToScroll:4,
				// 		dots:true
				// })
		// 		var slider = $('.slider');  	
		// 		var slickOptions = { 		
		// 			infinite: true, 		
		// 			slidesToShow: 1, 		
		// 			slidesToScroll: 1, 		
		// 			dots:true, 		
		// 			arrows:true 	
		// 	};  	
		// $(window).on('load resize', function() { 		
		// 		if($(window).width() < 767) { 			
		// 			slider.slick('unslick'); 		
		// 		}else{ 			
		// 			slider.not('.slick-initialized').slick(slickOptions); 		
		// 		} 
		// 	})
			

		})
  })
	

	function fn(key){
		
		con2data[key].사진.forEach((b, a)=>{
			
			$('.cat_slide').slick('slickAdd',`
			<div>
			<div>
			<li>
			<div class='img'>
			<img src="./images/content4_${con2data[key].사진[a]}.jpg" alt="">
			<div class="icon_wrap">
			<div class="wish"></div>
			<div class="cart"></div>
			</div>
			</div>
			<div class='txt'>
			<div class="txt1">${con2data[key].상품명[a]}</div>
			<div class="txt2">${con2data[key].기존가[a]}</div>
			<div class="txt3">${con2data[key].판매가[a]}
			<div class="txt4">
			<span class="star"></span>${con2data[key].평점[a]}<span class="rev">${con2data[key].리뷰수[a]}</span>
			</div>
			</div>
			</div>
			</li>
			</div>
			</div>
			`);
			
		})

	}

	let scroll_top;
	const top_btn = $('.top_btn')
	let is_top_btn = 0;
	const scroll_arr = [];
  const scroll = $(".scroll");
  const gap = $(window).height();

  scroll.each((scroll_num, scroll_ele)=>{
    scroll_arr[scroll_num] = $(scroll_ele).offset().top;
  });	

	console.log(scroll_arr)

	function scAction(n){
    if(scroll_top > scroll_arr[n] - gap - 150 /* && scroll_top < scroll_arr[n] + 300 */){
      scroll.eq(n).addClass("on");
    }
    else{
      scroll.eq(n).removeClass("on");
    }
  };


	$(window).resize(() => {

		scroll.each((scroll_num, scroll_ele) =>
		scroll_arr[scroll_num] = $(scroll_ele).offset().top);
		console.log(scroll_arr)

});

    $(window).scroll(function(){

			scroll_top = $(this).scrollTop();

			console.log(scroll_top);
			// console.log(is_top_btn);

			scroll.each((scroll_num)=>scAction(scroll_num));

			if (scroll_top >= 300) {
				if(is_top_btn) return
				is_top_btn = 1;
				top_btn.css({display:'block'})
				top_btn.animate({opacity:'1'},300)

			}
			else {
				if(!is_top_btn) return
				is_top_btn = 0;
				top_btn.animate({opacity:'0'},300, function(){
				top_btn.css({display:'none'})

				})

			}

	});

	top_btn.click(() => {
		$("html,body").animate({scrollTop: "0"}, 800, "easeOutQuart");
	});


	$("a").click(function(){
		if(this.href=='javascript:;'){
			alert("홈, 로그인, FAQ 페이지만 들어가실 수 있습니다.");
		};
	});




});